"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[8780],{4814(e,n,o){o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"manual-do-devops/troubleshooting/cicd-git/168","title":"CI/CD: Falha em depend\xeancias Python (Pillow/Pytest)","description":"O Problema","source":"@site/docs/03-manual-do-devops/troubleshooting/cicd-git/cicd-falha-em-dependencias-python-pillowpytest.md","sourceDirName":"03-manual-do-devops/troubleshooting/cicd-git","slug":"/manual-do-devops/troubleshooting/cicd-git/168","permalink":"/docs-preview/docs/manual-do-devops/troubleshooting/cicd-git/168","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/03-manual-do-devops/troubleshooting/cicd-git/cicd-falha-em-dependencias-python-pillowpytest.md","tags":[],"version":"current","frontMatter":{"id":"168","title":"CI/CD: Falha em depend\xeancias Python (Pillow/Pytest)","updated_at":"2026-01-31T02:22:06.000Z"},"sidebar":"tutorialSidebar","previous":{"title":"Configura\xe7\xe3o/Cobertura de C\xf3digo com SonarCloud","permalink":"/docs-preview/docs/manual-do-devops/infra/sonarcloud/27"},"next":{"title":"Git: Erro de build por arquivos untracked","permalink":"/docs-preview/docs/manual-do-devops/troubleshooting/cicd-git/166"}}');var t=o(4848),s=o(8453);const i={id:168,title:"CI/CD: Falha em depend\xeancias Python (Pillow/Pytest)",updated_at:new Date("2026-01-31T02:22:06.000Z")},d="CI/CD: Falha em depend\xeancias Python (Pillow/Pytest)",l={},c=[{value:"O Problema",id:"o-problema",level:2},{value:"Causa Raiz",id:"causa-raiz",level:2},{value:"Solu\xe7\xe3o",id:"solu\xe7\xe3o",level:2}];function r(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"cicd-falha-em-depend\xeancias-python-pillowpytest",children:"CI/CD: Falha em depend\xeancias Python (Pillow/Pytest)"})}),"\n",(0,t.jsx)(n.h1,{id:"cicd-falha-em-depend\xeancias-python-pillowpytest-1",children:"CI/CD: Falha em depend\xeancias Python (Pillow/Pytest)"}),"\n",(0,t.jsx)(n.h2,{id:"o-problema",children:"O Problema"}),"\n",(0,t.jsxs)(n.p,{children:["Bibliotecas Python que dependem de compila\xe7\xe3o C (como ",(0,t.jsx)(n.code,{children:"Pillow"}),", ",(0,t.jsx)(n.code,{children:"pytest-cov"}),", ",(0,t.jsx)(n.code,{children:"psycopg2"}),") falham durante a instala\xe7\xe3o no pipeline de CI/CD."]}),"\n",(0,t.jsx)(n.h2,{id:"causa-raiz",children:"Causa Raiz"}),"\n",(0,t.jsxs)(n.p,{children:["O container base (ex: ",(0,t.jsx)(n.code,{children:"python:slim"})," ou ",(0,t.jsx)(n.code,{children:"alpine"}),") n\xe3o possui as bibliotecas de sistema (libs do OS) necess\xe1rias para compilar essas depend\xeancias."]}),"\n",(0,t.jsx)(n.h2,{id:"solu\xe7\xe3o",children:"Solu\xe7\xe3o"}),"\n",(0,t.jsx)(n.p,{children:'"Blindar" o Dockerfile instalando as depend\xeancias de sistema antes dos pacotes Python.'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["Exemplo para Debian/Ubuntu (python",":slim","):"]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dockerfile",children:"RUN apt-get update && apt-get install -y \\\n    build-essential \\\n    libjpeg-dev \\\n    zlib1g-dev \\\n    && rm -rf /var/lib/apt/lists/*\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Exemplo para Alpine:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dockerfile",children:"RUN apk add --no-cache \\\n    gcc \\\n    musl-dev \\\n    jpeg-dev \\\n    zlib-dev\n"})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(r,{...e})}):r(e)}},8453(e,n,o){o.d(n,{R:()=>i,x:()=>d});var a=o(6540);const t={},s=a.createContext(t);function i(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);
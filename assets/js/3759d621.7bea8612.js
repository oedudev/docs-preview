"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[4233],{5587(e,s,n){n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"manual-do-dev/projetos/e-sus-urgencias/bdd-sessao","title":"BDD Sess\xe3o","description":"&lt;u>Funcionalidade: Obter e manter tokens de sess\xe3o&lt;/u>","source":"@site/docs/02-manual-do-dev/projetos/e-sus-urgencias/bdd-sessao.md","sourceDirName":"02-manual-do-dev/projetos/e-sus-urgencias","slug":"/manual-do-dev/projetos/e-sus-urgencias/bdd-sessao","permalink":"/docs-preview/docs/manual-do-dev/projetos/e-sus-urgencias/bdd-sessao","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02-manual-do-dev/projetos/e-sus-urgencias/bdd-sessao.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Banco de Dados","permalink":"/docs-preview/docs/manual-do-dev/projetos/e-sus-urgencias/banco-de-dados"},"next":{"title":"Casos de Uso","permalink":"/docs-preview/docs/manual-do-dev/projetos/e-sus-urgencias/casos-de-uso-dfo"}}');var r=n(4848),d=n(8453);const t={},a="BDD Sess\xe3o",i={},c=[];function l(e){const s={h1:"h1",header:"header",p:"p",strong:"strong",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"bdd-sess\xe3o",children:"BDD Sess\xe3o"})}),"\n",(0,r.jsxs)(s.p,{children:["<u>",(0,r.jsx)(s.strong,{children:"Funcionalidade: Obter e manter tokens de sess\xe3o"}),"</u>"]}),"\n",(0,r.jsx)(s.p,{children:"Como um usu\xe1rio"}),"\n",(0,r.jsx)(s.p,{children:"Eu quero poder realizar login"}),"\n",(0,r.jsx)(s.p,{children:"E ter uma sess\xe3o ativa no sistema"}),"\n",(0,r.jsx)(s.p,{children:"E ser identificado quando estiver logado"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Cen\xe1rio:"})," In\xedcio de sess\xe3o"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Dado"})," que um usu\xe1rio realize login no sistema"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"E"})," que suas credenciais estejam corretas"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Quando"})," eu realizar login"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Ent\xe3o"})," devo receber um token de refresh e acesso"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"E"})," meu token de acesso deve ser armazenado em mem\xf3ria"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"E"})," meu token de refresh deve ser armazenado como cookie httpOnly"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"E"})," meu token de refresh deve ter os atributos ",(0,r.jsx)(s.strong,{children:"Secure"})," e ",(0,r.jsx)(s.strong,{children:"Domain"})," apontando para o backend"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"E"})," devo conseguir acessar o sistema normalmente"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Cen\xe1rio:"})," Renova\xe7\xe3o de sess\xe3o - Token de acesso expirou"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Dado"})," que estou logado no sistema"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"E"})," que meu token refresh seja v\xe1lido"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"E"})," que meu token de acesso tenha expirado"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Quando"})," eu realizar uma requisi\xe7\xe3o"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Ent\xe3o"})," devo receber um erro ",(0,r.jsx)(s.strong,{children:"401 - Unauthorized"})]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"E"})," devo solicitar um novo token de acesso, por meio do meu token de refresh"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"E"})," o novo token de acesso deve ser usado para realizar a request original novamente"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Cen\xe1rio:"})," Logout"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Dado"})," que estou logado no sistema"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Quando"}),' eu clicar em "Deslogar"']}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Ent\xe3o"})," devo retornar \xe0 p\xe1gina de login"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"E"})," meu token de acesso e refresh devem ser desativados"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"E"})," meu token de acesso e refresh devem ser removidos do meu storage"]})]})}function u(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453(e,s,n){n.d(s,{R:()=>t,x:()=>a});var o=n(6540);const r={},d=o.createContext(r);function t(e){const s=o.useContext(d);return o.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),o.createElement(d.Provider,{value:s},e.children)}}}]);
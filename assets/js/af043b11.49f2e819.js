"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[1303],{5642(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>t});const a=JSON.parse('{"id":"manual-do-devops/infra/bots/172","title":"Manual de Clonagem de Bots","description":"1. Vis\xe3o Geral","source":"@site/docs/03-manual-do-devops/infra/bots/manual-de-clonagem-de-bots.md","sourceDirName":"03-manual-do-devops/infra/bots","slug":"/manual-do-devops/infra/bots/172","permalink":"/docs-preview/docs/manual-do-devops/infra/bots/172","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/03-manual-do-devops/infra/bots/manual-de-clonagem-de-bots.md","tags":[],"version":"current","frontMatter":{"id":"172","title":"Manual de Clonagem de Bots","updated_at":"2026-01-31T19:26:01.000Z"},"sidebar":"tutorialSidebar","previous":{"title":"Cria\xe7\xe3o de Usu\xe1rio no Pritunl (VPN)","permalink":"/docs-preview/docs/manual-do-devops/infra/acessos-basicos/8"},"next":{"title":"Configura\xe7\xe3o/Cobertura de C\xf3digo com SonarCloud","permalink":"/docs-preview/docs/manual-do-devops/infra/ci-cd-git/27"}}');var o=s(4848),i=s(8453);const r={id:172,title:"Manual de Clonagem de Bots",updated_at:new Date("2026-01-31T19:26:01.000Z")},d="Manual de Clonagem de Bots",l={},t=[{value:"1. Vis\xe3o Geral",id:"1-vis\xe3o-geral",level:2},{value:"2. Requisitos Pr\xe9vios",id:"2-requisitos-pr\xe9vios",level:2},{value:"3. Clone e Provisionamento (Hardware)",id:"3-clone-e-provisionamento-hardware",level:2},{value:"4. Identidade e Mem\xf3ria (Software)",id:"4-identidade-e-mem\xf3ria-software",level:2},{value:"5. Rede e Seguran\xe7a (Firewall)",id:"5-rede-e-seguran\xe7a-firewall",level:2},{value:"6. Discord Permissions (Erro 4014)",id:"6-discord-permissions-erro-4014",level:2},{value:"7. Valida\xe7\xe3o Final",id:"7-valida\xe7\xe3o-final",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"manual-de-clonagem-de-bots",children:"Manual de Clonagem de Bots"})}),"\n",(0,o.jsx)(n.h1,{id:"manual-de-clonagem-e-provisionamento-de-bots-moltbot",children:"Manual de Clonagem e Provisionamento de Bots (Moltbot)"}),"\n",(0,o.jsx)(n.h2,{id:"1-vis\xe3o-geral",children:"1. Vis\xe3o Geral"}),"\n",(0,o.jsx)(n.p,{children:"Este documento descreve o procedimento padr\xe3o para clonar um bot existente (ex: Cl\xe1udio) e provisionar uma nova inst\xe2ncia (ex: Roberval) na infraestrutura DigitalSys. O processo garante que o novo bot tenha identidade pr\xf3pria, acesso \xe0 rede privada e conflitos de execu\xe7\xe3o resolvidos."}),"\n",(0,o.jsx)(n.h2,{id:"2-requisitos-pr\xe9vios",children:"2. Requisitos Pr\xe9vios"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Chave de API da DigitalOcean (Read/Write)."}),"\n",(0,o.jsx)(n.li,{children:"Novo Token do Discord (Developer Portal)."}),"\n",(0,o.jsx)(n.li,{children:"Nome do Host (Hostname) desejado."}),"\n",(0,o.jsx)(n.li,{children:"Acesso SSH \xe0 m\xe1quina de controle."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"3-clone-e-provisionamento-hardware",children:"3. Clone e Provisionamento (Hardware)"}),"\n",(0,o.jsxs)(n.p,{children:["O m\xe9todo mais r\xe1pido \xe9 via ",(0,o.jsx)(n.strong,{children:"Snapshot"})," e recria\xe7\xe3o via API. Isso preserva todas as ferramentas instaladas."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Script Python recomendado (reclone_bot.py) deve realizar:"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Localizar o ID do Droplet de origem (Cl\xe1udio)."}),"\n",(0,o.jsx)(n.li,{children:"Solicitar 'snapshot' via API da DigitalOcean."}),"\n",(0,o.jsx)(n.li,{children:"Aguardar a conclus\xe3o do snapshot."}),"\n",(0,o.jsx)(n.li,{children:"Criar novo Droplet usando o ID da imagem do snapshot."}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"INJETAR 'User Data' (Cloud-Init)"})," para configura\xe7\xe3o inicial."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Exemplo de User Data (Bash) para inje\xe7\xe3o:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\nhostnamectl set-hostname moltbot-roberval\n# Atualizar Token do Bot (JSON)\npython3 -c \"import json; ... data['token']='NOVO_TOKEN'; ...\"\nsystemctl restart clawdbot-gateway\n"})}),"\n",(0,o.jsx)(n.h2,{id:"4-identidade-e-mem\xf3ria-software",children:"4. Identidade e Mem\xf3ria (Software)"}),"\n",(0,o.jsx)(n.p,{children:"Ap\xf3s o boot, o bot ainda 'pensa' que \xe9 o original. Deve-se limpar sua mem\xf3ria e personalidade."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["Arquivos a editar em ",(0,o.jsx)(n.code,{children:"/root/clawd/"}),":"]})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"IDENTITY.md:"})," Alterar Name, Creature e Emoji."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"SOUL.md:"})," Alterar a 'Persona' e diretrizes."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"memory/YYYY-MM-DD.md:"})," Apagar logs herdados do dia."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"5-rede-e-seguran\xe7a-firewall",children:"5. Rede e Seguran\xe7a (Firewall)"}),"\n",(0,o.jsx)(n.p,{children:"O novo Droplet nasce sem Tags. Para funcionar na VPC e acessar bancos de dados, ele precisa das mesmas tags do original."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"A\xe7\xe3o:"})," Sincronizar tags via API."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Tag Obrigat\xf3ria:"})," ",(0,o.jsx)(n.code,{children:"internal-network"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Comando:"}),"\n",(0,o.jsx)(n.code,{children:"POST /v2/tags/internal-network/resources {resource_id: NEW_DROPLET_ID}"})]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"6-discord-permissions-erro-4014",children:"6. Discord Permissions (Erro 4014)"}),"\n",(0,o.jsx)(n.p,{children:"Se o bot conectar e cair com erro 4014, faltam permiss\xf5es privilegiadas (Intents)."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Acessar Discord Developer Portal -> Bot -> Privileged Gateway Intents e ativar:"})}),"\n",(0,o.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","PRESENCE INTENT"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","SERVER MEMBERS INTENT"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","MESSAGE CONTENT INTENT"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"7-valida\xe7\xe3o-final",children:"7. Valida\xe7\xe3o Final"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Verificar status do servi\xe7o:\n",(0,o.jsx)(n.code,{children:"systemctl status clawdbot-gateway --user"})]}),"\n",(0,o.jsxs)(n.li,{children:["Verificar logs:\n",(0,o.jsx)(n.code,{children:"journalctl --user -u clawdbot-gateway -f"})]}),"\n",(0,o.jsxs)(n.li,{children:["Testar comando no Discord:\n",(0,o.jsx)(n.code,{children:'"Quem \xe9 voc\xea?"'})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>r,x:()=>d});var a=s(6540);const o={},i=a.createContext(o);function r(e){const n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);
"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[6290],{538(e,n,o){o.r(n),o.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"manual-do-devops/infra/ia-prompts/58","title":"Prompt para Ensinar uma IA a Atualizar Conte\xfado no BookStack","description":"Objetivo Principal:","source":"@site/docs/03-manual-do-devops/infra/ia-prompts/prompt-para-ensinar-uma-ia-a-atualizar-conteudo-no-bookstack.md","sourceDirName":"03-manual-do-devops/infra/ia-prompts","slug":"/manual-do-devops/infra/ia-prompts/58","permalink":"/docs-preview/docs/manual-do-devops/infra/ia-prompts/58","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/03-manual-do-devops/infra/ia-prompts/prompt-para-ensinar-uma-ia-a-atualizar-conteudo-no-bookstack.md","tags":[],"version":"current","frontMatter":{"id":"58","title":"Prompt para Ensinar uma IA a Atualizar Conte\xfado no BookStack","updated_at":"2025-05-12T03:23:18.000Z"},"sidebar":"tutorialSidebar","previous":{"title":"Prompt para Ensinar uma IA a Atualizar Conte\xfado no BookStack","permalink":"/docs-preview/docs/manual-do-devops/infra/ia/58"},"next":{"title":"Invent\xe1rio de Recursos e M\xe1quinas","permalink":"/docs-preview/docs/manual-do-devops/infra/inventario-de-recursos-e-maquinas"}}');var s=o(4848),r=o(8453);const i={id:58,title:"Prompt para Ensinar uma IA a Atualizar Conte\xfado no BookStack",updated_at:new Date("2025-05-12T03:23:18.000Z")},d="Prompt para Ensinar uma IA a Atualizar Conte\xfado no BookStack",t={},l=[];function c(e){const n={code:"code",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"prompt-para-ensinar-uma-ia-a-atualizar-conte\xfado-no-bookstack",children:"Prompt para Ensinar uma IA a Atualizar Conte\xfado no BookStack"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Objetivo Principal:"}),"\r\nSua tarefa \xe9 interagir com uma inst\xe2ncia espec\xedfica do BookStack para atualizar conte\xfados existentes, como p\xe1ginas e metadados de livros, utilizando a API REST fornecida."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Detalhes da Inst\xe2ncia BookStack Alvo:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"URL Base da Inst\xe2ncia:"})," ",(0,s.jsx)(n.code,{children:"https://ajuda.digitalsys.com.br"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Documenta\xe7\xe3o de Refer\xeancia da API:"})," ",(0,s.jsx)(n.code,{children:"https://demo.bookstackapp.com/api/docs"})," (Utilize esta documenta\xe7\xe3o para entender os endpoints, par\xe2metros e formatos de requisi\xe7\xe3o/resposta.)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Autentica\xe7\xe3o na API:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"M\xe9todo:"})," Autentica\xe7\xe3o baseada em Token."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cabe\xe7alho HTTP Necess\xe1rio:"})," ",(0,s.jsx)(n.code,{children:"Authorization: Token &lt;SEU_TOKEN_ID>:&lt;SEU_TOKEN_SECRET>"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u26a0\ufe0f Nota de Seguran\xe7a Importante:"})," Os valores ",(0,s.jsx)(n.code,{children:"&lt;SEU_TOKEN_ID>"})," e ",(0,s.jsx)(n.code,{children:"&lt;SEU_TOKEN_SECRET>"})," s\xe3o placeholders. Em uma implementa\xe7\xe3o real, estes tokens NUNCA devem ser codificados diretamente no prompt ou no c\xf3digo. Eles devem ser fornecidos de forma segura \xe0 IA no momento da execu\xe7\xe3o (por exemplo, atrav\xe9s de vari\xe1veis de ambiente ou um sistema de gerenciamento de segredos)."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Fluxo Geral para Atualizar uma P\xe1gina no BookStack:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Identificar a P\xe1gina a Ser Atualizada:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Op\xe7\xe3o A (ID da P\xe1gina Conhecido):"})," Se voc\xea j\xe1 possui o ",(0,s.jsx)(n.code,{children:"ID"})," num\xe9rico da p\xe1gina, pode us\xe1-lo diretamente."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Op\xe7\xe3o B (ID da P\xe1gina Desconhecido):"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Liste p\xe1ginas dentro de um livro espec\xedfico (se o ",(0,s.jsx)(n.code,{children:"book_id"})," for conhecido): ",(0,s.jsx)(n.code,{children:"GET {URL_BASE}/api/pages?filter[book_id]={book_id}&filter[name:like]=%Nome Parcial da P\xe1gina%"})]}),"\n",(0,s.jsxs)(n.li,{children:["Liste todas as p\xe1ginas e filtre pelo nome: ",(0,s.jsx)(n.code,{children:"GET {URL_BASE}/api/pages?filter[name:like]=%Nome da P\xe1gina%"})]}),"\n",(0,s.jsxs)(n.li,{children:["A resposta para listagens geralmente inclui um array ",(0,s.jsx)(n.code,{children:"data"})," com os objetos da p\xe1gina, cada um contendo um ",(0,s.jsx)(n.code,{children:"id"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"(Opcional, mas Recomendado) Obter Detalhes da P\xe1gina Atual:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Endpoint: ",(0,s.jsx)(n.code,{children:"GET {URL_BASE}/api/pages/{page_id}"})]}),"\n",(0,s.jsxs)(n.li,{children:["Isso permite verificar o conte\xfado atual (seja em ",(0,s.jsx)(n.code,{children:"html"})," ou ",(0,s.jsx)(n.code,{children:"markdown"}),") antes de modific\xe1-lo."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Atualizar a P\xe1gina:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Endpoint: ",(0,s.jsx)(n.code,{children:"PUT {URL_BASE}/api/pages/{page_id}"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["M\xe9todo HTTP: ",(0,s.jsx)(n.code,{children:"PUT"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Cabe\xe7alhos: ",(0,s.jsx)(n.code,{children:"Content-Type: application/json"}),", ",(0,s.jsx)(n.code,{children:"Authorization: Token &lt;SEU_TOKEN_ID>:&lt;SEU_TOKEN_SECRET>"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Corpo da Requisi\xe7\xe3o (JSON). Campos comuns para atualiza\xe7\xe3o:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"book_id"})," (integer, opcional): ID do livro ao qual a p\xe1gina pertence. Mude apenas se for mover a p\xe1gina."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name"})," (string, opcional): Novo nome para a p\xe1gina."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"markdown"})," (string): Conte\xfado da p\xe1gina em formato Markdown. (A API tamb\xe9m aceita ",(0,s.jsx)(n.code,{children:"html"}),".)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"tags"})," (array, opcional): Array de objetos de tag. Ex: ",(0,s.jsx)(n.code,{children:'[{"name": "Status", "value": "Revisado"}]'})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Exemplo de Corpo da Requisi\xe7\xe3o para atualizar o conte\xfado Markdown e o nome de uma p\xe1gina:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "name": "Novo T\xedtulo da P\xe1gina",\r\n  "markdown": "# Novo Conte\xfado da P\xe1gina\\n\\nEste \xe9 o conte\xfado atualizado da p\xe1gina em Markdown.",\r\n  "book_id": 123 \r\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Fluxo Geral para Atualizar Metadados de um Livro:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Identificar o Livro a Ser Atualizado:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Op\xe7\xe3o A (ID do Livro Conhecido):"})," Use o ",(0,s.jsx)(n.code,{children:"ID"})," num\xe9rico do livro."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Op\xe7\xe3o B (ID do Livro Desconhecido):"})," ",(0,s.jsx)(n.code,{children:"GET {URL_BASE}/api/books?filter[name:like]=%Nome do Livro%"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Atualizar o Livro:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Endpoint: ",(0,s.jsx)(n.code,{children:"PUT {URL_BASE}/api/books/{book_id}"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["M\xe9todo HTTP: ",(0,s.jsx)(n.code,{children:"PUT"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Cabe\xe7alhos: ",(0,s.jsx)(n.code,{children:"Content-Type: application/json"}),", ",(0,s.jsx)(n.code,{children:"Authorization: Token &lt;SEU_TOKEN_ID>:&lt;SEU_TOKEN_SECRET>"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Corpo da Requisi\xe7\xe3o (JSON). Campos comuns para atualiza\xe7\xe3o:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name"})," (string): Novo nome para o livro."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"description"})," (string): Nova descri\xe7\xe3o para o livro."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"tags"})," (array, opcional): Array de objetos de tag."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Exemplo de Corpo da Requisi\xe7\xe3o para atualizar nome e descri\xe7\xe3o:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "name": "T\xedtulo Atualizado do Livro",\r\n  "description": "Esta \xe9 a nova descri\xe7\xe3o detalhada do livro."\r\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Exemplo de C\xf3digo (Python com a biblioteca ",(0,s.jsx)(n.code,{children:"requests"}),"):"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import requests\r\nimport json\r\n\r\nTOKEN_ID = "&lt;SEU_TOKEN_ID>"  # Substituir de forma segura\r\nTOKEN_SECRET = "&lt;SEU_TOKEN_SECRET>"  # Substituir de forma segura\r\nBASE_URL = "https://ajuda.digitalsys.com.br"\r\nPAGE_ID_TO_UPDATE = 57  # Exemplo de ID da p\xe1gina\r\n\r\nHEADERS = {\r\n    "Authorization": f"Token {TOKEN_ID}:{TOKEN_SECRET}",\r\n    "Content-Type": "application/json"\r\n}\r\n\r\n# Dados para atualizar a p\xe1gina\r\npage_update_payload = {\r\n    "name": "Ouvir Estrelas - Vers\xe3o Atualizada",\r\n    "markdown": "# Ouvir Estrelas (Atualizado)\\n\\n\\\\"Ora (direis) ouvir estrelas! Certo... (conte\xfado completo do poema aqui)\\\\"\\n\\n_(Fonte: Brasil Escola - UOL)_\\nRevisado em: DD/MM/AAAA",\r\n    # "book_id": 5 # Opcional, se precisar mudar o livro\r\n}\r\n\r\nupdate_url = f"{BASE_URL}/api/pages/{PAGE_ID_TO_UPDATE}"\r\n\r\ntry:\r\n    # Lembre-se de desabilitar a verifica\xe7\xe3o SSL apenas se estritamente necess\xe1rio e ciente dos riscos:\r\n    # response = requests.put(update_url, headers=HEADERS, json=page_update_payload, timeout=30, verify=False)\r\n    response = requests.put(update_url, headers=HEADERS, json=page_update_payload, timeout=30)\r\n    response.raise_for_status()  # Levanta um erro para respostas 4xx/5xx\r\n\r\n    updated_page_data = response.json()\r\n    print(f"P\xe1gina atualizada com sucesso: ID {updated_page_data.get(\t"id\t")}, Nome: {updated_page_data.get(\t"name\t")}")\r\n    # print(f"URL da P\xe1gina: {updated_page_data.get(\t"url\t")}") # A API pode n\xe3o retornar a URL diretamente na atualiza\xe7\xe3o\r\n\r\nexcept requests.exceptions.RequestException as e:\r\n    print(f"Erro ao atualizar a p\xe1gina: {e}")\r\n    if response is not None:\r\n        print(f"Conte\xfado da Resposta (Erro): {response.text}")\r\n\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Considera\xe7\xf5es Importantes para a IA:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Tratamento de Erros:"})," Sempre verifique os c\xf3digos de status HTTP das respostas. A API do BookStack retorna erros em formato JSON que podem ser parseados para obter mais detalhes."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rate Limiting:"})," Esteja ciente dos limites de taxa da API (padr\xe3o: 180 requisi\xe7\xf5es por minuto) para evitar bloqueios."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Formato do Conte\xfado:"})," Certifique-se de que o conte\xfado enviado (especialmente ",(0,s.jsx)(n.code,{children:"markdown"})," ou ",(0,s.jsx)(n.code,{children:"html"}),") est\xe1 corretamente formatado."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Confirma\xe7\xe3o do Usu\xe1rio:"})," Para opera\xe7\xf5es que alteram dados, considere implementar um passo de confirma\xe7\xe3o com o usu\xe1rio antes de executar a chamada \xe0 API, especialmente se a IA n\xe3o tiver certeza sobre o alvo ou o conte\xfado da atualiza\xe7\xe3o."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verifica\xe7\xe3o SSL:"})," No exemplo de c\xf3digo Python, a linha ",(0,s.jsx)(n.code,{children:"verify=False"})," est\xe1 comentada. Ela s\xf3 deve ser usada em ambientes de desenvolvimento controlados se houver problemas com o certificado SSL do servidor e ap\xf3s o usu\xe1rio confirmar explicitamente que entende os riscos. Para produ\xe7\xe3o, o certificado SSL do servidor deve ser v\xe1lido."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Pr\xf3ximos Passos para a IA:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Solicite ao usu\xe1rio o ",(0,s.jsx)(n.code,{children:"ID da P\xe1gina"})," ou ",(0,s.jsx)(n.code,{children:"ID do Livro"})," que precisa ser atualizado, ou os nomes para que voc\xea possa pesquis\xe1-los."]}),"\n",(0,s.jsx)(n.li,{children:"Solicite o novo conte\xfado ou as altera\xe7\xf5es espec\xedficas a serem aplicadas."}),"\n",(0,s.jsxs)(n.li,{children:["Confirme os detalhes com o usu\xe1rio antes de prosseguir com a chamada ",(0,s.jsx)(n.code,{children:"PUT"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Execute a atualiza\xe7\xe3o e informe o usu\xe1rio sobre o resultado (sucesso ou falha, com detalhes do erro se houver)."}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,n,o){o.d(n,{R:()=>i,x:()=>d});var a=o(6540);const s={},r=a.createContext(s);function i(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);